---
tags:
 - Famicom
 - Emscripten
categories:
 - Web Development
 - Video Game
 - Music
title: "Murders (Hawaii: Part II) VRC6 Chiptune Cover"
---
<script src=/nsfplayer-wasm/assets/nsfplayer-mono-stereo.js></script>
<script src=/nsfplayer-wasm/nsfplay-function.js></script>

<script>
function stratjams5() {
	nsfplay('Murders.nsfe',0);
}
</script>
<button onclick=stratjams5() style=margin-bottom:1rem>Start Jams</button>
<p>(This music cannot yet be played on the home page. Please click on the post link.)
<p>Hello!
<p>Throughout the first 8 days of February, I worked on a cover of <span lang=ja>„Éü„É©„ÇØ„É´„Éü„É•„Éº„Ç∏„Ç´„É´</span>'s <i>Murders</i>. I had discovered the excellent <a href=https://famistudio.org/ target=_blank>FamiStudio</a>, and I thought it would be fun to create a cover of Murders using the same chip used in <span lang=ja title="Akumajou Densetsu">ÊÇ™È≠îÂüé‰ºùË™¨</span>. I know these songs are popular, and they probably already have many covers, but I hope my cover is still enjoyed.
<p>This cover would not have been possible without the <a href=https://musescore.com/user/13496311/scores/3076966 target=_blank>excellent sheet music transcription by punyidea</a>.
<p>You may be wondering: "If you finished this cover on February 8th, why did you wait until March 13th to post it?" <br>Well, for my blog, I knew I had to synthesize the chiptune using JavaScript. Rendering it to an mp3 and embedding with <code>&lt;audio&gt;</code> would be too easy! And you may have noticed that I've been posting a lot of JavaScript synthesis of midi lately. The great thing about <span title="like midi, 8-bit and 16-bit video game music">sequenced</span> music compared to <span title="like mp3, wav, most music files">streamed</span> music is that it has a way smaller file size; and on the web, where large file sizes make the page take longer to load, that's great!
<p>I thought there would already be JavaScript and WebAssembly programs out there to play NSF files on a webpage, and I did find a few, but they had crackles.
<p>So I decided I would compile game-music-emu to WebAssembly myself. I didn't think it would be too hard...
<p>Most of my struggles I was able to solve by looking at <a href=https://github.com/mmontag/chip-player-js target=_blank>Chip-Player-JS's code</a>. Thank you mmontag!
<p>The biggest struggle was when I tried to make it so you could pass "true" or "false" to switch between stereo and mono (the famicom and NES never supported stereo); <del datetime=2023-05-05>I never did figure this out,</del> so I just made two copies of the entire program, one that only plays stereo and one that only plays mono. The total size of the two binaries is 349 KB, so I think being lazy is fine this time.
<p>What made the stereo conundrum <em>very</em> frustrating was that it <em>looked</em> like the library, or other forks of it, already had methods to switch between stereo and mono; but these methods either didn't work or I couldn't figure out how to use them.
<p><del datetime=2023-04-23>Anyway, I'm pretty happy with where <a href=https://github.com/Thysbelon/nsfplayer-wasm target=_blank>nsfplayer-wasm</a> is at now. The only problem left is that sometimes there are a few crackles when the song starts. I have no idea how to fix this.</del> <del datetime=2023-05-05><ins datetime=2023-04-23 cite=https://github.com/Thysbelon/nsfplayer-wasm/issues/3#issuecomment-1519184107>I never quite got nsfplayer-wasm in an acceptable state, because it has horrible performance on smartphones and low-power computers.</ins></del> <ins>Well, <a href=https://github.com/Thysbelon/nsfplayer-wasm target=_blank>nsfplayer-wasm</a> still isn't perfect, but it's finally acceptable! <img src=/emoji/üòä.svg alt=üòä></ins>
<p><a href=https://www.mediafire.com/file/euowx4mfw4nch65/Murders.zip/file>Download project files</a>.